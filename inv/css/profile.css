/* --- VARIABLES Y TEMA (Unificado con live.css) --- */
:root {
    --color-background: #f0f2f5;
    --color-surface: #ffffff;
    --color-primary: #1c1e21;      /* Color de texto principal */
    --color-secondary: #65676b;    /* Color de texto secundario */
    --color-accent: #b72a1e;
    --color-border: #ddd;
    --border-radius: 12px;
}

body.dark-theme {
    --color-background: #18191a;
    --color-surface: #242526;
    --color-primary: #e4e6eb;      /* Color de texto principal en modo oscuro */
    --color-secondary: #b0b3b8;    /* Color de texto secundario en modo oscuro */
    --border-color: #3a3b3c;
}

/* --- ESTILOS GENERALES --- */
*, *::before, *::after { box-sizing: border-box; }

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    background-color: var(--color-background);
    color: var(--color-primary); /* <-- CORRECCIÓN CLAVE */
    transition: background-color 0.3s, color 0.3s;
}

h3 {
    font-size: 1.2rem;
    margin: 0 0 1rem 0;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--color-border);
    color: var(--color-primary);
}

h3 i { margin-right: 0.75rem; color: var(--color-accent); }

.page-container {
    padding: 2rem 1.5rem;
    max-width: 1400px;
    margin: 0 auto;
}

/* --- BARRA DE NAVEGACIÓN --- */
.top-bar {
    position: sticky;
    top: 0;
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 70px;
    padding: 0 1.5rem;
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--color-border);
}
body.dark-theme .top-bar {
    background-color: rgba(24, 25, 26, 0.8);
}
.top-bar__left, .top-bar__right { display: flex; align-items: center; gap: 0.75rem; }
.top-bar__logo img { height: 32px; }
.top-bar-btn {
    background: none; border: none; cursor: pointer; color: var(--color-secondary);
    width: 40px; height: 40px; border-radius: 50%; display: flex;
    align-items: center; justify-content: center; font-size: 1.1rem;
}
.top-bar-btn:hover { background-color: var(--color-border); color: var(--color-primary); }
#user-avatar-header img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }

/* --- LAYOUT DEL PERFIL --- */
.profile-layout { display: grid; gap: 1.5rem; }
@media (min-width: 1024px) {
    .profile-layout { grid-template-columns: 320px 1fr; }
    .profile-sidebar { position: sticky; top: calc(70px + 2rem); } /* 70px del header + padding */
}

.main-content { display: grid; gap: 1.5rem; grid-auto-rows: min-content; }
.bento-box { background-color: var(--color-surface); padding: 1.5rem; border-radius: var(--border-radius); }

/* --- TARJETA DE PERFIL (SIDEBAR) --- */
.profile-card { text-align: center; }
.profile-card__avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    margin-bottom: 1rem;
    border: 4px solid var(--color-accent);
    background-color: var(--color-border); /* <-- CORRECCIÓN para evitar el "salto" */
}
.profile-card h2 { font-size: 1.5rem; margin: 0; color: var(--color-primary); }
.profile-card__orcid { font-size: 0.9rem; color: var(--color-secondary); margin: 0.25rem 0 1rem 0; }
.profile-card__bio { font-size: 0.95rem; margin-bottom: 1.5rem; color: var(--color-secondary); }
.profile-card__socials { display: flex; justify-content: center; gap: 1.5rem; font-size: 1.5rem; margin-bottom: 1.5rem; }
.profile-card__socials a { color: var(--color-secondary); }

/* --- FORMULARIOS Y BOTONES --- */
.form-group label { display: block; font-weight: 500; margin-bottom: 0.5rem; font-size: 0.9rem; }
input, textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--color-border);
    border-radius: 6px;
    background-color: var(--color-background);
    color: var(--color-primary);
}
.btn { width: 100%; padding: 0.8rem; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; text-decoration: none; }
.btn-primary { background-color: var(--color-accent); color: white; }
.btn-secondary { background-color: var(--color-surface-light); color: var(--color-primary); border: 1px solid var(--color-border); }

/* --- NUEVO LAYOUT HORIZONTAL PARA ESCRITORIO --- */

@media (min-width: 1024px) {
    .main-content {
        display: grid;
        grid-template-columns: minmax(0, 2fr) minmax(0, 1fr); /* Columna principal más ancha */
        gap: 1.5rem;
        align-items: start; /* Alinea los elementos al inicio de la celda del grid */
    }

    .main-column, .side-column {
        display: grid;
        gap: 1.5rem;
        grid-auto-rows: min-content;
    }
}

/* Estilos para la lista de proyectos/publicaciones */
.projects-list {
    margin-top: 1.5rem;
    border-top: 1px solid var(--color-border);
    padding-top: 1.5rem;
}

.publication-item {
    padding: 1rem;
    border: 1px solid var(--color-border);
    border-radius: 8px;
    margin-bottom: 1rem;
    background-color: var(--color-background);
}

.publication-item p {
    margin: 0 0 0.5rem 0;
    font-weight: 500;
}

.publication-item span {
    font-size: 0.85rem;
    color: var(--color-secondary);
}

/* --- Estilo para Aviso de Sincronización ORCID --- */
.orcid-sync-hint {
    background-color: var(--color-surface-light);
    border: 1px solid var(--color-border);
    border-radius: 6px;
    padding: 0.75rem;
    margin-top: 1rem;
    font-size: 0.85rem;
    color: var(--color-secondary);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.orcid-sync-hint i {
    color: var(--color-accent);
}