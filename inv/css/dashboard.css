/* ==========================================================================
   DASHBOARD.CSS - VERSIÓN DE RECONSTRUCCIÓN TOTAL (COMPLETA Y VERIFICADA)
   - Enfoque "Mobile-First" para una responsividad perfecta.
   - Nuevo layout con sidebar colapsable y top-header.
   - Estética limpia y profesional.
   ========================================================================== */

/* --- 1. SISTEMA DE DISEÑO Y CONFIGURACIÓN GLOBAL --- */
:root {
    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    
    /* Paleta de Colores */
    --color-background: #F8F9FA;
    --color-surface: #FFFFFF;
    --color-border: #E9ECEF;
    --color-text-primary: #212529;
    --color-text-secondary: #6C757D;
    --color-accent: #b72a1e;
    --color-accent-dark: #942217;
    --color-primary-cta: #0d6efd; 
    --color-primary-cta-dark: #0b5ed7;
    --color-success: #198754;
    --color-whatsapp: #25D366;
    --color-error: #dc3545;

    /* Métricas y Efectos */
    --sidebar-width-collapsed: 80px;
    --sidebar-width-expanded: 260px;
    --top-header-height: 80px;
    --border-radius: 12px;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --transition-speed: 0.2s;
}

*, *::before, *::after {
    box-sizing: border-box;
}

body {
    font-family: var(--font-main);
    margin: 0;
    background-color: var(--color-background);
    color: var(--color-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- 2. ARQUITECTURA PRINCIPAL DEL LAYOUT --- */
.dashboard {
    display: flex;
}

.sidebar {
    width: var(--sidebar-width-collapsed);
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    background-color: var(--color-surface);
    border-right: 1px solid var(--color-border);
    display: flex;
    flex-direction: column;
    padding: 1.5rem 0;
    transition: width var(--transition-speed) ease-in-out;
    z-index: 200;
}

.dashboard__body {
    width: 100%;
    margin-left: var(--sidebar-width-collapsed);
    transition: margin-left var(--transition-speed) ease-in-out;
}

/* --- 3. ESTILOS DEL SIDEBAR --- */
.sidebar__header {
    padding: 0 1.5rem 1.5rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
}
.sidebar__logo-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    text-decoration: none;
    justify-content: center;
}
.sidebar__logo-img {
    height: 32px;
    flex-shrink: 0;
}
.sidebar__logo-text {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-text-primary);
    white-space: nowrap;
    opacity: 0;
    transition: opacity var(--transition-speed) ease;
}
.sidebar__nav {
    flex-grow: 1;
    overflow-x: hidden;
    overflow-y: auto;
}
.sidebar__link {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    text-decoration: none;
    color: var(--color-text-secondary);
    font-weight: 500;
    white-space: nowrap;
    border-left: 3px solid transparent;
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease, border-left-color var(--transition-speed) ease;
}
.sidebar__link i {
    font-size: 1.25rem;
    width: 24px;
    text-align: center;
    flex-shrink: 0;
}
.sidebar__link-text {
    opacity: 0;
    transition: opacity var(--transition-speed) ease;
}
.sidebar__link:hover {
    background-color: var(--color-background);
    color: var(--color-text-primary);
}
.sidebar__link.active {
    color: var(--color-accent);
    font-weight: 600;
    border-left-color: var(--color-accent);
    background-color: #fdf2f2;
}
.sidebar__footer {
    padding: 0 1.5rem;
}

/* --- 4. BARRA SUPERIOR (TOP HEADER) --- */
.top-header {
    height: var(--top-header-height);
    background-color: var(--color-surface);
    border-bottom: 1px solid var(--color-border);
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.top-header__welcome h1 { font-size: 1.5rem; margin: 0; }
.top-header__welcome p { margin: 0; color: var(--color-text-secondary); display: none; }
.top-header__actions { display: flex; align-items: center; gap: 1rem; }
.search-bar { display: none; align-items: center; gap: 0.5rem; background-color: var(--color-background); padding: 0.5rem 1rem; border-radius: var(--border-radius); border: 1px solid var(--color-border); }
.search-bar input { border: none; background: none; outline: none; }
.action-btn { background: none; border: 1px solid transparent; color: var(--color-text-secondary); font-size: 1.25rem; cursor: pointer; padding: 0.5rem; }
.action-btn:hover { color: var(--color-text-primary); }
.user-menu img { height: 40px; width: 40px; border-radius: 50%; object-fit: cover; cursor: pointer; }

/* --- 5. CONTENIDO PRINCIPAL Y TARJETAS --- */
.main-content { padding: 2rem; }
.content-section { display: none; animation: fadeIn 0.5s ease-in-out; }
.content-section.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.workflow-step { background-color: var(--color-surface); padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--shadow-md); margin-bottom: 2rem; }
.step-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; }
.step-number { background-color: var(--color-accent); color: white; font-weight: 700; width: 32px; height: 32px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; }
.project-selector { display: flex; gap: 1rem; align-items: center; }
.creation-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; }
.creation-card { background-color: var(--color-surface); padding: 1.5rem; border-radius: var(--border-radius); border: 1px solid var(--color-border); cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }
.creation-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-md); }
.creation-card .icon { font-size: 1.75rem; color: var(--color-accent); margin-bottom: 1rem; }
.creation-card h3 { margin: 0 0 0.5rem 0; }
.creation-card p { margin: 0; color: var(--color-text-secondary); font-size: 0.9rem; }
.studio-launcher { text-align: center; padding: 3rem 2rem; background-color: var(--color-surface); border-radius: var(--border-radius); box-shadow: var(--shadow-md); }
.studio-launcher .launcher-icon { font-size: 3rem; color: var(--color-accent); margin-bottom: 1rem; }
.studio-launcher h3 { font-size: 1.5rem; margin: 0 0 0.5rem 0; }
.studio-launcher p { max-width: 500px; margin: 0 auto 1.5rem auto; color: var(--color-text-secondary); }
.placeholder-content { text-align: center; padding: 3rem; background-color: var(--color-surface); border-radius: var(--border-radius); box-shadow: var(--shadow-md); }

/* --- 6. ESTILOS DE FORMULARIO --- */
.input-field { width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--color-border); border-radius: var(--border-radius); background-color: var(--color-surface); color: var(--color-text-primary); font-size: 1rem; }
.input-field:focus { outline: none; border-color: var(--color-primary-cta); box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.25); }
.btn-primary, .btn-secondary, .whatsapp-btn { padding: 0.75rem 1.5rem; font-weight: 600; font-size: 1rem; border-radius: var(--border-radius); cursor: pointer; display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; text-decoration: none; transition: all 0.2s ease; }
.btn-primary { background-color: var(--color-primary-cta); color: white; border: 1px solid var(--color-primary-cta); }
.btn-primary:hover { background-color: var(--color-primary-cta-dark); border-color: var(--color-primary-cta-dark); }
.btn-secondary { background-color: var(--color-surface); color: var(--color-text-primary); border: 1px solid var(--color-border); }
.btn-secondary:hover { background-color: var(--color-background); }
.whatsapp-btn { background-color: var(--color-whatsapp); color: white; border-color: var(--color-whatsapp); }
.whatsapp-btn:hover { background-color: #1ebe56; border-color: #1ebe56; }
.link-button { background: none; border: none; color: var(--color-primary-cta); font-weight: 600; cursor: pointer; padding: 0; font-size: 0.9rem; }
.link-button:hover { text-decoration: underline; }
.form-message { margin-top: 1.5rem; font-weight: 500; text-align: center; min-height: 1.2em; }
.form-message.success { color: var(--color-success); }
.form-message.error { color: var(--color-error); }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
.checkbox-label { display: flex; align-items: center; gap: 0.75rem; cursor: pointer; font-weight: 600; }
.checkbox-label input[type="checkbox"] { width: 1.2em; height: 1.2em; accent-color: var(--color-accent); }

/* --- 7. ESTILOS DE MODAL UNIFICADOS (COMPLETO) --- */
.modal-overlay {
    display: none;
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(28, 30, 33, 0.6);
    z-index: 300;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    backdrop-filter: blur(5px);
}
.modal-overlay.is-visible { display: flex; animation: fadeIn 0.3s; }
.modal {
    background-color: var(--color-surface);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-strong);
    width: 100%;
    max-width: 500px;
    z-index: 301;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    animation: slideInUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
@keyframes slideInUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.modal__header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-border); padding: 1rem 1.5rem; flex-shrink: 0; }
.modal__header h2 { margin: 0; font-size: 1.25rem; }
.modal__close-btn { font-size: 1.5rem; font-weight: bold; color: var(--color-text-secondary); background: none; border: none; cursor: pointer; padding: 0.5rem; line-height: 1; }
.modal__content { padding: 1.5rem; overflow-y: auto; }
.modal__footer { border-top: 1px solid var(--color-border); padding: 1rem 1.5rem; text-align: right; background-color: var(--color-background); flex-shrink: 0; }
.results-header { text-align: center; margin-bottom: 1.5rem; }
.results-header .fa-check-circle { font-size: 3rem; color: var(--color-success); margin-bottom: 1rem; }
.results-header h3 { font-size: 1.5rem; margin: 0 0 0.5rem 0; }
.results-actions { display: flex; flex-direction: column; gap: 0.75rem; }
.results-actions__group { display: flex; gap: 0.75rem; }
.results-actions__group .btn-secondary { flex-grow: 1; }

/* --- 8. ESTILOS DEL MIXER EMBEBIDO (COMPLETO) --- */
.mixer-embed-container {
    background-color: #000;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 250; /* Por debajo de los modales */
    display: flex;
    flex-direction: column;
}
.mixer-embed__header { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1.5rem; background-color: #1a1a1a; color: white; flex-shrink: 0; }
.mixer-embed__header h3 { margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 0.5rem; }
.mixer-embed__actions { display: flex; gap: 0.5rem; }
.mixer-embed__content { flex-grow: 1; }
#mixer-iframe { width: 100%; height: 100%; border: none; }

/* --- 9. RESPONSIVE DESIGN --- */
@media (min-width: 768px) {
    .top-header__welcome p { display: block; }
    .search-bar { display: flex; }
}

@media (min-width: 992px) {
    .sidebar { width: var(--sidebar-width-expanded); }
    .sidebar:hover {
        /* No se necesita hover en escritorio grande, ya está expandido */
    }
    .sidebar__logo-text, .sidebar__link-text { opacity: 1; }
    .dashboard__body { margin-left: var(--sidebar-width-expanded); }
}